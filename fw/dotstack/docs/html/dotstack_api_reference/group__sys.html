<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>dotstack API Reference: System Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">dotstack API Reference
   &#160;<span id="projectnumber">1.8.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">System Functions</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions in this module provide interface to DotStack functionality that is common to all protocols and profiles.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga0739b701349bd7fefe9026a381045d98"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys.html#ga0739b701349bd7fefe9026a381045d98">bt_sys_callback_fp</a>) (bt_bool success, void *param)</td></tr>
<tr class="memdesc:ga0739b701349bd7fefe9026a381045d98"><td class="mdescLeft">&#160;</td><td class="mdescRight">System start callback.  <a href="#ga0739b701349bd7fefe9026a381045d98">More...</a><br /></td></tr>
<tr class="separator:ga0739b701349bd7fefe9026a381045d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa4518c7d11b838fdf967da5439ebba01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys.html#gaa4518c7d11b838fdf967da5439ebba01">bt_sys_init</a> (void)</td></tr>
<tr class="memdesc:gaa4518c7d11b838fdf967da5439ebba01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the Bluetooth system.  <a href="#gaa4518c7d11b838fdf967da5439ebba01">More...</a><br /></td></tr>
<tr class="separator:gaa4518c7d11b838fdf967da5439ebba01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae28f4d5989dcffef1938ed81967e63d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys.html#gae28f4d5989dcffef1938ed81967e63d0">bt_sys_init_ex</a> (bt_byte default_link_policy)</td></tr>
<tr class="memdesc:gae28f4d5989dcffef1938ed81967e63d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the Bluetooth system.  <a href="#gae28f4d5989dcffef1938ed81967e63d0">More...</a><br /></td></tr>
<tr class="separator:gae28f4d5989dcffef1938ed81967e63d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga911d0815ca50d1f9e3b5986bc8e44233"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys.html#ga911d0815ca50d1f9e3b5986bc8e44233">bt_sys_start</a> (bt_bool discoverable, bt_bool connectable, const bt_byte *sdp_db, bt_uint sdp_db_len, <a class="el" href="group__sys.html#ga0739b701349bd7fefe9026a381045d98">bt_sys_callback_fp</a> callback, void *callback_param)</td></tr>
<tr class="memdesc:ga911d0815ca50d1f9e3b5986bc8e44233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the Bluetooth system.  <a href="#ga911d0815ca50d1f9e3b5986bc8e44233">More...</a><br /></td></tr>
<tr class="separator:ga911d0815ca50d1f9e3b5986bc8e44233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67aa1c8d76012304bbeb7c391b87bcfd"><td class="memItemLeft" align="right" valign="top">bt_l2cap_mgr_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys.html#ga67aa1c8d76012304bbeb7c391b87bcfd">bt_sys_get_l2cap_manager</a> (void)</td></tr>
<tr class="memdesc:ga67aa1c8d76012304bbeb7c391b87bcfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the L2CAP manager.  <a href="#ga67aa1c8d76012304bbeb7c391b87bcfd">More...</a><br /></td></tr>
<tr class="separator:ga67aa1c8d76012304bbeb7c391b87bcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga427dad1f9f05480b5bcc831982b790cc"><td class="memItemLeft" align="right" valign="top">const bt_byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys.html#ga427dad1f9f05480b5bcc831982b790cc">bt_sys_get_version</a> (void)</td></tr>
<tr class="memdesc:ga427dad1f9f05480b5bcc831982b790cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the version of the dotstack library.  <a href="#ga427dad1f9f05480b5bcc831982b790cc">More...</a><br /></td></tr>
<tr class="separator:ga427dad1f9f05480b5bcc831982b790cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions in this module provide interface to DotStack functionality that is common to all protocols and profiles. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga0739b701349bd7fefe9026a381045d98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* bt_sys_callback_fp) (bt_bool success, void *param)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>System start callback. </p>
<p>This callback function is called when system start initiated by <a class="el" href="group__sys.html#ga911d0815ca50d1f9e3b5986bc8e44233" title="Start the Bluetooth system. ">bt_sys_start()</a> has completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">success</td><td>Success of the operation: <code>BT_TRUE</code> if successfull, <code>BT_FALSE</code> otherwise.</td></tr>
    <tr><td class="paramname">param</td><td>Callback parameter that was specified when <a class="el" href="group__sys.html#ga911d0815ca50d1f9e3b5986bc8e44233" title="Start the Bluetooth system. ">bt_sys_start()</a> was called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga67aa1c8d76012304bbeb7c391b87bcfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_l2cap_mgr_t* bt_sys_get_l2cap_manager </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the L2CAP manager. </p>
<p>This function returns the L2CAP manager. The L2CAP manager is created as part of the start up sequence.</p>
<dl class="section return"><dt>Returns</dt><dd>The L2CAP manager. </dd></dl>

</div>
</div>
<a class="anchor" id="ga427dad1f9f05480b5bcc831982b790cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bt_byte* bt_sys_get_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the version of the dotstack library. </p>
<dl class="section return"><dt>Returns</dt><dd>The version of the dotstack library. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa4518c7d11b838fdf967da5439ebba01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_sys_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the Bluetooth system. </p>
<p>This function initializes all internal variables of HCI, L2CAP and SDP modules. It must be called by the application before it can access any functionality provided by the library. In addition to this initialization function the application must call initialization functions of all other profile modules the application is intended to use. E.g., if the application is using the SPP module the <a class="el" href="group__spp.html#ga84bf14c9b4da9ce2aa0b36d13b78fc10" title="Initialize the SPP module. ">bt_spp_init()</a> must be called right after calling <a class="el" href="group__sys.html#gaa4518c7d11b838fdf967da5439ebba01" title="Initialize the Bluetooth system. ">bt_sys_init()</a>.</p>
<p>This function essentially calls bt_sys_init_ex(HCI_LINK_POLICY_ENABLE_ALL) so all link policy setting are enabled. </p>

</div>
</div>
<a class="anchor" id="gae28f4d5989dcffef1938ed81967e63d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_sys_init_ex </td>
          <td>(</td>
          <td class="paramtype">bt_byte&#160;</td>
          <td class="paramname"><em>default_link_policy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the Bluetooth system. </p>
<p>This function initializes all internal variables of HCI, L2CAP and SDP modules. It must be called by the application before it can access any functionality provided by the library. In addition to this initialization function the application must call initialization functions of all other profile modules the application is intended to use. E.g., if the application is using the SPP module the <a class="el" href="group__spp.html#ga84bf14c9b4da9ce2aa0b36d13b78fc10" title="Initialize the SPP module. ">bt_spp_init()</a> must be called right after calling <a class="el" href="group__sys.html#gaa4518c7d11b838fdf967da5439ebba01" title="Initialize the Bluetooth system. ">bt_sys_init()</a>.</p>
<p>Also, the caller must provide an SDP database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">default_link_policy</td><td>default link policy settings. This is a bitmask that defines the initial value of the link policy settings for all new BR/EDR connections. This value can be a combination of the following values: <ul>
<li>HCI_LINK_POLICY_ENABLE_ROLE_SWITCH </li>
<li>HCI_LINK_POLICY_ENABLE_HOLD_MODE </li>
<li>HCI_LINK_POLICY_ENABLE_SNIFF_MODE </li>
<li>HCI_LINK_POLICY_ENABLE_PARK_STATE</li>
</ul>
To enable all settings pass HCI_LINK_POLICY_ENABLE_ALL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga911d0815ca50d1f9e3b5986bc8e44233"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_sys_start </td>
          <td>(</td>
          <td class="paramtype">bt_bool&#160;</td>
          <td class="paramname"><em>discoverable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_bool&#160;</td>
          <td class="paramname"><em>connectable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bt_byte *&#160;</td>
          <td class="paramname"><em>sdp_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_uint&#160;</td>
          <td class="paramname"><em>sdp_db_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sys.html#ga0739b701349bd7fefe9026a381045d98">bt_sys_callback_fp</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the Bluetooth system. </p>
<p>After all modules used by the application have been initialized this function should be called to start the Bluetooth system operation. During the start up sequence it will reset and initialize the HCI controller and then create the L2CAP manager. The application will be notified when the start up sequence completes by calling the provided callback function.</p>
<p>Also, the caller must provide an SDP database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">discoverable</td><td>defines whether the device is discoverable after reset. </td></tr>
    <tr><td class="paramname">connectable</td><td>defines whether the device is connectable after reset. </td></tr>
    <tr><td class="paramname">sdp_db</td><td>SDP database data. </td></tr>
    <tr><td class="paramname">sdp_db_len</td><td>Length of SDP database data. </td></tr>
    <tr><td class="paramname">callback</td><td>A callback function that will be called when the start up sequence is complete. </td></tr>
    <tr><td class="paramname">callback_param</td><td>An arbitrary pointer that will be passed to the callback function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>Copyright &copy; 2015 SEARAN LLC. All right reserved.</small></address>
</body>
</html>
