<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>dotstack API Reference: Serial Port Profile (SPP)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">dotstack API Reference
   &#160;<span id="projectnumber">1.8.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Serial Port Profile (SPP)</div>  </div>
</div><!--header-->
<div class="contents">

<p>The DotStack SPP API is a simple API for communicating over a Bluetooth link using the Bluetooth Serial Port Profile.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__spp__config"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp__config.html">SPP Configuration</a></td></tr>
<tr class="memdesc:group__spp__config"><td class="mdescLeft">&#160;</td><td class="mdescRight">This module describes parameters used to configure SPP layer. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__rfcomm__config"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rfcomm__config.html">RFCOMM Configuration</a></td></tr>
<tr class="memdesc:group__rfcomm__config"><td class="mdescLeft">&#160;</td><td class="mdescRight">This module describes parameters used to configure RFCOMM layer. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__bt__spp__port__t.html">bt_spp_port_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial port structure.  <a href="struct__bt__spp__port__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__bt__spp__port__t_1_1__bt__spp__port__flags__t.html">bt_spp_port_t::_bt_spp_port_flags_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga81f5ae48e380044a5dce006c6c322226"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga81f5ae48e380044a5dce006c6c322226">bt_spp_state_callback_fp</a>) (bt_spp_port_t *port, <a class="el" href="group__spp.html#ga2202538e161519d186667d78228e79fe">bt_spp_port_event_e</a> evt, void *param)</td></tr>
<tr class="memdesc:ga81f5ae48e380044a5dce006c6c322226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial port state callback.  <a href="#ga81f5ae48e380044a5dce006c6c322226">More...</a><br /></td></tr>
<tr class="separator:ga81f5ae48e380044a5dce006c6c322226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4aacf49fa63e5e15cd74a808e52caac"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#gae4aacf49fa63e5e15cd74a808e52caac">bt_spp_send_callback_fp</a>) (bt_spp_port_t *port, bt_ulong bytes_sent, <a class="el" href="group__spp.html#ga771b8c470ffd83ded952c126490a95e6">bt_spp_send_status_e</a> status, void *param)</td></tr>
<tr class="memdesc:gae4aacf49fa63e5e15cd74a808e52caac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial port send callback.  <a href="#gae4aacf49fa63e5e15cd74a808e52caac">More...</a><br /></td></tr>
<tr class="separator:gae4aacf49fa63e5e15cd74a808e52caac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42ecde0a307a64fa1aa4d9ad7eb9fe0a"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga42ecde0a307a64fa1aa4d9ad7eb9fe0a">bt_spp_receive_callback_fp</a>) (bt_spp_port_t *port, bt_int bytes_received, void *param)</td></tr>
<tr class="memdesc:ga42ecde0a307a64fa1aa4d9ad7eb9fe0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial port receive callback.  <a href="#ga42ecde0a307a64fa1aa4d9ad7eb9fe0a">More...</a><br /></td></tr>
<tr class="separator:ga42ecde0a307a64fa1aa4d9ad7eb9fe0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaea85deb6281a3d5cd18d9975f3831c7e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#gaea85deb6281a3d5cd18d9975f3831c7e">bt_spp_port_state_e</a> { <br />
&#160;&#160;<a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7ea35ba5ec438b2f05a2a279770f3a31a19">SPP_PORT_STATE_FREE</a>, 
<a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7ea15d79f1a4ea29fb2f455f8a209da8b35">SPP_PORT_STATE_DISCONNECTED</a>, 
<a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7eae6efa2121c9d7be7a7320749f483f8c1">SPP_PORT_STATE_DISCONNECTING</a>, 
<a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7ea975249b641762fd9c81448cd978833ba">SPP_PORT_STATE_CONNECTING</a>, 
<br />
&#160;&#160;<a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7ead1224bb8952b07eea1b83d5519275e57">SPP_PORT_STATE_CONNECTED</a>
<br />
 }</td></tr>
<tr class="memdesc:gaea85deb6281a3d5cd18d9975f3831c7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial port state.  <a href="group__spp.html#gaea85deb6281a3d5cd18d9975f3831c7e">More...</a><br /></td></tr>
<tr class="separator:gaea85deb6281a3d5cd18d9975f3831c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2202538e161519d186667d78228e79fe"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga2202538e161519d186667d78228e79fe">bt_spp_port_event_e</a> { <br />
&#160;&#160;<a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea63251ed8cbe53b85207025764e70f4d3">SPP_PORT_EVENT_CONNECTED</a> = 1, 
<a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea4cdbc0f9f46428dc9b3f27b8ad4d77db">SPP_PORT_EVENT_DISCONNECTED</a>, 
<a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea5fd9582924b7c805bf336e48c7aa63b9">SPP_PORT_EVENT_CONNECTION_FAILED</a>, 
<a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea0b99e6dc789f97a014bd53f9e7b7af3e">SPP_PORT_EVENT_SEND_PROGRESS</a>, 
<br />
&#160;&#160;<a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea29e9235ca8c87fc8dcfea6dfffc02779">SPP_PORT_EVENT_REMOTE_MODEM_STATUS_CHANGED</a>, 
<a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea54e9c5ed9aa88eb1403f98686445ca36">SPP_PORT_EVENT_LOCAL_MODEM_STATUS_CHANGED</a>, 
<a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea18526dfdc5c2ed8bcd19d368de0f2ce8">SPP_PORT_EVENT_LOCAL_MODEM_STATUS_CHANGE_FAILED</a>
<br />
 }</td></tr>
<tr class="memdesc:ga2202538e161519d186667d78228e79fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial port event.  <a href="group__spp.html#ga2202538e161519d186667d78228e79fe">More...</a><br /></td></tr>
<tr class="separator:ga2202538e161519d186667d78228e79fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga771b8c470ffd83ded952c126490a95e6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga771b8c470ffd83ded952c126490a95e6">bt_spp_send_status_e</a> { <br />
&#160;&#160;<a class="el" href="group__spp.html#gga771b8c470ffd83ded952c126490a95e6a03e024f52c062d1e5c420a7001b455bd">SPP_SEND_STATUS_SUCCESS</a> = 0, 
<a class="el" href="group__spp.html#gga771b8c470ffd83ded952c126490a95e6a2d979f70af1821bd9fb0d87bf74726e1">SPP_SEND_STATUS_TIMEOUT</a>, 
<a class="el" href="group__spp.html#gga771b8c470ffd83ded952c126490a95e6a9224e434dcd3922ab15dc33df0f53b2a">SPP_SEND_STATUS_NOT_ENOUGH_RESOURCES</a>, 
<a class="el" href="group__spp.html#gga771b8c470ffd83ded952c126490a95e6a1e37bc1d4de0ee5e83b0ae114e5a64e9">SPP_SEND_STATUS_CANCELED</a>, 
<br />
&#160;&#160;<a class="el" href="group__spp.html#gga771b8c470ffd83ded952c126490a95e6ac9bd2d5d4f8250a9998cec3fd9e764e5">SPP_SEND_STATUS_INTERRUPTED</a>
<br />
 }</td></tr>
<tr class="memdesc:ga771b8c470ffd83ded952c126490a95e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send operation status.  <a href="group__spp.html#ga771b8c470ffd83ded952c126490a95e6">More...</a><br /></td></tr>
<tr class="separator:ga771b8c470ffd83ded952c126490a95e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga84bf14c9b4da9ce2aa0b36d13b78fc10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga84bf14c9b4da9ce2aa0b36d13b78fc10">bt_spp_init</a> (void)</td></tr>
<tr class="memdesc:ga84bf14c9b4da9ce2aa0b36d13b78fc10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the SPP module.  <a href="#ga84bf14c9b4da9ce2aa0b36d13b78fc10">More...</a><br /></td></tr>
<tr class="separator:ga84bf14c9b4da9ce2aa0b36d13b78fc10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52c6d1372724d3b0b8be17e2e22330c9"><td class="memItemLeft" align="right" valign="top">bt_spp_port_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga52c6d1372724d3b0b8be17e2e22330c9">bt_spp_allocate</a> (bt_l2cap_mgr_t *l2cap_mgr, <a class="el" href="group__spp.html#ga81f5ae48e380044a5dce006c6c322226">bt_spp_state_callback_fp</a> callback, void *callback_param)</td></tr>
<tr class="memdesc:ga52c6d1372724d3b0b8be17e2e22330c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a serial port.  <a href="#ga52c6d1372724d3b0b8be17e2e22330c9">More...</a><br /></td></tr>
<tr class="separator:ga52c6d1372724d3b0b8be17e2e22330c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1988bc4e28102b04f11e31ece861a2e"><td class="memItemLeft" align="right" valign="top">bt_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#gaa1988bc4e28102b04f11e31ece861a2e">bt_spp_listen</a> (bt_spp_port_t *port, bt_byte channel)</td></tr>
<tr class="memdesc:gaa1988bc4e28102b04f11e31ece861a2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listen for incoming connections.  <a href="#gaa1988bc4e28102b04f11e31ece861a2e">More...</a><br /></td></tr>
<tr class="separator:gaa1988bc4e28102b04f11e31ece861a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81b17d95276f5e4e012bbfc485bef5ec"><td class="memItemLeft" align="right" valign="top">bt_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga81b17d95276f5e4e012bbfc485bef5ec">bt_spp_connect</a> (bt_spp_port_t *port, bt_bdaddr_p remote_addr, bt_byte channel)</td></tr>
<tr class="memdesc:ga81b17d95276f5e4e012bbfc485bef5ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a remote device.  <a href="#ga81b17d95276f5e4e012bbfc485bef5ec">More...</a><br /></td></tr>
<tr class="separator:ga81b17d95276f5e4e012bbfc485bef5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga117d0bcfc5fb489438e2bfe3615997b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga117d0bcfc5fb489438e2bfe3615997b3">bt_spp_disconnect</a> (bt_spp_port_t *port)</td></tr>
<tr class="memdesc:ga117d0bcfc5fb489438e2bfe3615997b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect from the remote device.  <a href="#ga117d0bcfc5fb489438e2bfe3615997b3">More...</a><br /></td></tr>
<tr class="separator:ga117d0bcfc5fb489438e2bfe3615997b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad197811ff562e12fa6f85fc07d404e61"><td class="memItemLeft" align="right" valign="top">bt_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#gad197811ff562e12fa6f85fc07d404e61">bt_spp_deallocate</a> (bt_spp_port_t *port)</td></tr>
<tr class="memdesc:gad197811ff562e12fa6f85fc07d404e61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocate serial port.  <a href="#gad197811ff562e12fa6f85fc07d404e61">More...</a><br /></td></tr>
<tr class="separator:gad197811ff562e12fa6f85fc07d404e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga465bb849fa9ee497c5bd67e8d6e125f5"><td class="memItemLeft" align="right" valign="top">bt_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga465bb849fa9ee497c5bd67e8d6e125f5">bt_spp_send</a> (bt_spp_port_t *port, const void *data, bt_ulong data_len, <a class="el" href="group__spp.html#gae4aacf49fa63e5e15cd74a808e52caac">bt_spp_send_callback_fp</a> callback)</td></tr>
<tr class="memdesc:ga465bb849fa9ee497c5bd67e8d6e125f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data.  <a href="#ga465bb849fa9ee497c5bd67e8d6e125f5">More...</a><br /></td></tr>
<tr class="separator:ga465bb849fa9ee497c5bd67e8d6e125f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb2b7259f03da226f3e2a67154fb91b6"><td class="memItemLeft" align="right" valign="top">bt_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#gabb2b7259f03da226f3e2a67154fb91b6">bt_spp_receive</a> (bt_spp_port_t *port, void *buffer, bt_int buffer_len, <a class="el" href="group__spp.html#ga42ecde0a307a64fa1aa4d9ad7eb9fe0a">bt_spp_receive_callback_fp</a> callback)</td></tr>
<tr class="memdesc:gabb2b7259f03da226f3e2a67154fb91b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data.  <a href="#gabb2b7259f03da226f3e2a67154fb91b6">More...</a><br /></td></tr>
<tr class="separator:gabb2b7259f03da226f3e2a67154fb91b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92b9497fad3080c7cd9bcd152bb8892f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga92b9497fad3080c7cd9bcd152bb8892f">bt_spp_cancel_send</a> (bt_spp_port_t *port)</td></tr>
<tr class="memdesc:ga92b9497fad3080c7cd9bcd152bb8892f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel send data.  <a href="#ga92b9497fad3080c7cd9bcd152bb8892f">More...</a><br /></td></tr>
<tr class="separator:ga92b9497fad3080c7cd9bcd152bb8892f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fa23d8c86315af184bb79ec1f8b3f19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga7fa23d8c86315af184bb79ec1f8b3f19">bt_spp_cancel_receive</a> (bt_spp_port_t *port)</td></tr>
<tr class="memdesc:ga7fa23d8c86315af184bb79ec1f8b3f19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel receive data.  <a href="#ga7fa23d8c86315af184bb79ec1f8b3f19">More...</a><br /></td></tr>
<tr class="separator:ga7fa23d8c86315af184bb79ec1f8b3f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ef6409f34697f0151f07396e50a76aa"><td class="memItemLeft" align="right" valign="top">bt_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga6ef6409f34697f0151f07396e50a76aa">bt_spp_get_frame_length</a> (bt_spp_port_t *port)</td></tr>
<tr class="memdesc:ga6ef6409f34697f0151f07396e50a76aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get frame length.  <a href="#ga6ef6409f34697f0151f07396e50a76aa">More...</a><br /></td></tr>
<tr class="separator:ga6ef6409f34697f0151f07396e50a76aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2cf2190081a7604a95a02d2d4fb4d48"><td class="memItemLeft" align="right" valign="top">bt_bdaddr_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#gaf2cf2190081a7604a95a02d2d4fb4d48">bt_spp_get_remote_address</a> (const bt_spp_port_t *port)</td></tr>
<tr class="memdesc:gaf2cf2190081a7604a95a02d2d4fb4d48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the address of the remote device this device is connected to.  <a href="#gaf2cf2190081a7604a95a02d2d4fb4d48">More...</a><br /></td></tr>
<tr class="separator:gaf2cf2190081a7604a95a02d2d4fb4d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga008575a0d4e013e5da9c451b24b105d0"><td class="memItemLeft" align="right" valign="top">bt_byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga008575a0d4e013e5da9c451b24b105d0">bt_spp_get_local_modem_status</a> (const bt_spp_port_t *port)</td></tr>
<tr class="memdesc:ga008575a0d4e013e5da9c451b24b105d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get local device's TS 07.10 control signals.  <a href="#ga008575a0d4e013e5da9c451b24b105d0">More...</a><br /></td></tr>
<tr class="separator:ga008575a0d4e013e5da9c451b24b105d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a7153695e0d0b4a3f4c4eba2aa4fb7d"><td class="memItemLeft" align="right" valign="top">bt_byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga5a7153695e0d0b4a3f4c4eba2aa4fb7d">bt_spp_set_local_modem_status</a> (bt_spp_port_t *port, bt_byte ms)</td></tr>
<tr class="memdesc:ga5a7153695e0d0b4a3f4c4eba2aa4fb7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set local device's TS 07.10 control signals.  <a href="#ga5a7153695e0d0b4a3f4c4eba2aa4fb7d">More...</a><br /></td></tr>
<tr class="separator:ga5a7153695e0d0b4a3f4c4eba2aa4fb7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab11430398f382aaff8396847da48ccd5"><td class="memItemLeft" align="right" valign="top">bt_byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#gab11430398f382aaff8396847da48ccd5">bt_spp_get_remote_modem_status</a> (const bt_spp_port_t *port)</td></tr>
<tr class="memdesc:gab11430398f382aaff8396847da48ccd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get remote device's TS 07.10 control signals.  <a href="#gab11430398f382aaff8396847da48ccd5">More...</a><br /></td></tr>
<tr class="separator:gab11430398f382aaff8396847da48ccd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49af2488839828f58e37c6ca3ed55df3"><td class="memItemLeft" align="right" valign="top">bt_byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga49af2488839828f58e37c6ca3ed55df3">bt_spp_set_dtr</a> (bt_spp_port_t *port, bt_bool on)</td></tr>
<tr class="memdesc:ga49af2488839828f58e37c6ca3ed55df3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set local device's RS-232 DTR signal.  <a href="#ga49af2488839828f58e37c6ca3ed55df3">More...</a><br /></td></tr>
<tr class="separator:ga49af2488839828f58e37c6ca3ed55df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32fe01da2a78b83bee06c34d4508355b"><td class="memItemLeft" align="right" valign="top">bt_byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spp.html#ga32fe01da2a78b83bee06c34d4508355b">bt_spp_set_rts</a> (bt_spp_port_t *port, bt_bool on)</td></tr>
<tr class="memdesc:ga32fe01da2a78b83bee06c34d4508355b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set local device's RS-232 RTS signal.  <a href="#ga32fe01da2a78b83bee06c34d4508355b">More...</a><br /></td></tr>
<tr class="separator:ga32fe01da2a78b83bee06c34d4508355b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The DotStack SPP API is a simple API for communicating over a Bluetooth link using the Bluetooth Serial Port Profile. </p>
<p>Here are the steps for using this API:</p>
<ul>
<li>Call the <a class="el" href="group__spp.html#ga84bf14c9b4da9ce2aa0b36d13b78fc10" title="Initialize the SPP module. ">bt_spp_init()</a> function.</li>
<li>Allocate a serial port structure with <a class="el" href="group__spp.html#ga52c6d1372724d3b0b8be17e2e22330c9" title="Allocate a serial port. ">bt_spp_allocate()</a>. One of the parameters to this function is a pointer to a callback function. That callback function will be called by the stack whenever the state of the serial port changes.</li>
<li>To connect to a remote device call <a class="el" href="group__spp.html#ga81b17d95276f5e4e012bbfc485bef5ec" title="Connect to a remote device. ">bt_spp_connect()</a>. The stack will notify when the connection is established by calling the state callback function.</li>
<li>To wait for a connection from a remote device call <a class="el" href="group__spp.html#gaa1988bc4e28102b04f11e31ece861a2e" title="Listen for incoming connections. ">bt_spp_listen()</a>. The stack will notify when the connection is established by calling the state callback function.</li>
<li>When the port is connected you can send data with <a class="el" href="group__spp.html#ga465bb849fa9ee497c5bd67e8d6e125f5" title="Send data. ">bt_spp_send()</a> and receive data with <a class="el" href="group__spp.html#gabb2b7259f03da226f3e2a67154fb91b6" title="Receive data. ">bt_spp_receive()</a>.</li>
<li>To terminate the connection call <a class="el" href="group__spp.html#ga117d0bcfc5fb489438e2bfe3615997b3" title="Disconnect from the remote device. ">bt_spp_disconnect()</a>.</li>
<li>When you are finished using the port deallocate it with <a class="el" href="group__spp.html#gad197811ff562e12fa6f85fc07d404e61" title="Deallocate serial port. ">bt_spp_deallocate()</a>. </li>
</ul>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga42ecde0a307a64fa1aa4d9ad7eb9fe0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* bt_spp_receive_callback_fp) (bt_spp_port_t *port, bt_int bytes_received, void *param)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serial port receive callback. </p>
<p>This callback function is called when a receive operation initiated by <a class="el" href="group__spp.html#gabb2b7259f03da226f3e2a67154fb91b6" title="Receive data. ">bt_spp_receive()</a> completes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port on which the receive operation completed.</td></tr>
    <tr><td class="paramname">bytes_received</td><td>Number of received bytes.</td></tr>
    <tr><td class="paramname">param</td><td>Callback parameter that was specified when <a class="el" href="group__spp.html#ga52c6d1372724d3b0b8be17e2e22330c9" title="Allocate a serial port. ">bt_spp_allocate()</a> was called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae4aacf49fa63e5e15cd74a808e52caac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* bt_spp_send_callback_fp) (bt_spp_port_t *port, bt_ulong bytes_sent, <a class="el" href="group__spp.html#ga771b8c470ffd83ded952c126490a95e6">bt_spp_send_status_e</a> status, void *param)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serial port send callback. </p>
<p>This callback function is called when a send operation initiated by <a class="el" href="group__spp.html#ga465bb849fa9ee497c5bd67e8d6e125f5" title="Send data. ">bt_spp_send()</a> completes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port on which the send operation completed.</td></tr>
    <tr><td class="paramname">bytes_sent</td><td>Number of bytes sent. This parameter is just a convenience as it always specifies the same number of bytes that was passed to <a class="el" href="group__spp.html#ga465bb849fa9ee497c5bd67e8d6e125f5" title="Send data. ">bt_spp_send()</a>;</td></tr>
    <tr><td class="paramname">status</td><td>Completion status. It is one of the values defined in the <a class="el" href="group__spp.html#ga771b8c470ffd83ded952c126490a95e6" title="Send operation status. ">bt_spp_send_status_e</a> enumeration.</td></tr>
    <tr><td class="paramname">param</td><td>Callback parameter that was specified when <a class="el" href="group__spp.html#ga52c6d1372724d3b0b8be17e2e22330c9" title="Allocate a serial port. ">bt_spp_allocate()</a> was called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga81f5ae48e380044a5dce006c6c322226"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* bt_spp_state_callback_fp) (bt_spp_port_t *port, <a class="el" href="group__spp.html#ga2202538e161519d186667d78228e79fe">bt_spp_port_event_e</a> evt, void *param)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serial port state callback. </p>
<p>This callback function is called whenever the state of a serial port is changed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port which state has changed.</td></tr>
    <tr><td class="paramname">evt</td><td>Event describing the nature of state change. It is one of the values defined in the <a class="el" href="group__spp.html#ga2202538e161519d186667d78228e79fe" title="Serial port event. ">bt_spp_port_event_e</a> enumeration.</td></tr>
    <tr><td class="paramname">param</td><td>Callback parameter that was specified when <a class="el" href="group__spp.html#ga52c6d1372724d3b0b8be17e2e22330c9" title="Allocate a serial port. ">bt_spp_allocate()</a> was called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga2202538e161519d186667d78228e79fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spp.html#ga2202538e161519d186667d78228e79fe">bt_spp_port_event_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serial port event. </p>
<p>Values of this enumeration represent serial port events. Events are reported to the application through a callback function. The callback function is specified when the port is allocated using <a class="el" href="group__spp.html#ga52c6d1372724d3b0b8be17e2e22330c9" title="Allocate a serial port. ">bt_spp_allocate()</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga2202538e161519d186667d78228e79fea63251ed8cbe53b85207025764e70f4d3"></a>SPP_PORT_EVENT_CONNECTED&#160;</td><td class="fielddoc">
<p>Connection with a remote device was successfully established. </p>
<p>This event is reported independent of which side (local or remote) initiated the connection. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga2202538e161519d186667d78228e79fea4cdbc0f9f46428dc9b3f27b8ad4d77db"></a>SPP_PORT_EVENT_DISCONNECTED&#160;</td><td class="fielddoc">
<p>Connection with the remote device was terminated. </p>
<p>This event is reported independent of which side (local or remote) initiated termination of the connection. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga2202538e161519d186667d78228e79fea5fd9582924b7c805bf336e48c7aa63b9"></a>SPP_PORT_EVENT_CONNECTION_FAILED&#160;</td><td class="fielddoc">
<p>Connection to a remote device failed. </p>
<p>This event is reported when an attempt to establish a connection using <a class="el" href="group__spp.html#ga81b17d95276f5e4e012bbfc485bef5ec" title="Connect to a remote device. ">bt_spp_connect()</a> has failed. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga2202538e161519d186667d78228e79fea0b99e6dc789f97a014bd53f9e7b7af3e"></a>SPP_PORT_EVENT_SEND_PROGRESS&#160;</td><td class="fielddoc">
<p>Send operation progress. </p>
<p>This event is reported periodically during sending data over the serial port connection. It can be used by the application to track send operation progress. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga2202538e161519d186667d78228e79fea29e9235ca8c87fc8dcfea6dfffc02779"></a>SPP_PORT_EVENT_REMOTE_MODEM_STATUS_CHANGED&#160;</td><td class="fielddoc">
<p>Remote modem status. </p>
<p>This event is reported when a remote device notifies the local device about the status of its V.24 control signals. The actual value of the signals can be obtained by calling <a class="el" href="group__spp.html#gab11430398f382aaff8396847da48ccd5" title="Get remote device&#39;s TS 07.10 control signals. ">bt_spp_get_remote_modem_status(const bt_spp_port_t* port)</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga2202538e161519d186667d78228e79fea54e9c5ed9aa88eb1403f98686445ca36"></a>SPP_PORT_EVENT_LOCAL_MODEM_STATUS_CHANGED&#160;</td><td class="fielddoc">
<p>Local modem status. </p>
<p>This event is reported when the local device has successfully sent the state of its V.24 signals to the remote party. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga2202538e161519d186667d78228e79fea18526dfdc5c2ed8bcd19d368de0f2ce8"></a>SPP_PORT_EVENT_LOCAL_MODEM_STATUS_CHANGE_FAILED&#160;</td><td class="fielddoc">
<p>Local modem status. </p>
<p>This event is reported when the local device failed to send the state of its V.24 signals to the remote party. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gaea85deb6281a3d5cd18d9975f3831c7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spp.html#gaea85deb6281a3d5cd18d9975f3831c7e">bt_spp_port_state_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serial port state. </p>
<p>Values of this enumeration represent states of the serial port. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggaea85deb6281a3d5cd18d9975f3831c7ea35ba5ec438b2f05a2a279770f3a31a19"></a>SPP_PORT_STATE_FREE&#160;</td><td class="fielddoc">
<p>Used internally to mark a port structure as available for allocation. </p>
<p>The application should never encounter a port in this state. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaea85deb6281a3d5cd18d9975f3831c7ea15d79f1a4ea29fb2f455f8a209da8b35"></a>SPP_PORT_STATE_DISCONNECTED&#160;</td><td class="fielddoc">
<p>Port is not connected. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaea85deb6281a3d5cd18d9975f3831c7eae6efa2121c9d7be7a7320749f483f8c1"></a>SPP_PORT_STATE_DISCONNECTING&#160;</td><td class="fielddoc">
<p>Disconnecting from remote device. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaea85deb6281a3d5cd18d9975f3831c7ea975249b641762fd9c81448cd978833ba"></a>SPP_PORT_STATE_CONNECTING&#160;</td><td class="fielddoc">
<p>Connecting to a remote device. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaea85deb6281a3d5cd18d9975f3831c7ead1224bb8952b07eea1b83d5519275e57"></a>SPP_PORT_STATE_CONNECTED&#160;</td><td class="fielddoc">
<p>Port is connected to a remote device. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga771b8c470ffd83ded952c126490a95e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spp.html#ga771b8c470ffd83ded952c126490a95e6">bt_spp_send_status_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send operation status. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga771b8c470ffd83ded952c126490a95e6a03e024f52c062d1e5c420a7001b455bd"></a>SPP_SEND_STATUS_SUCCESS&#160;</td><td class="fielddoc">
<p>The operation completed successfully. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga771b8c470ffd83ded952c126490a95e6a2d979f70af1821bd9fb0d87bf74726e1"></a>SPP_SEND_STATUS_TIMEOUT&#160;</td><td class="fielddoc">
<p>The operation timed out. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga771b8c470ffd83ded952c126490a95e6a9224e434dcd3922ab15dc33df0f53b2a"></a>SPP_SEND_STATUS_NOT_ENOUGH_RESOURCES&#160;</td><td class="fielddoc">
<p>There was not enough resources to complete the operation. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga771b8c470ffd83ded952c126490a95e6a1e37bc1d4de0ee5e83b0ae114e5a64e9"></a>SPP_SEND_STATUS_CANCELED&#160;</td><td class="fielddoc">
<p>The operation was canceled. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga771b8c470ffd83ded952c126490a95e6ac9bd2d5d4f8250a9998cec3fd9e764e5"></a>SPP_SEND_STATUS_INTERRUPTED&#160;</td><td class="fielddoc">
<p>The operation was interrupted because the connection closed. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga52c6d1372724d3b0b8be17e2e22330c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_spp_port_t* bt_spp_allocate </td>
          <td>(</td>
          <td class="paramtype">bt_l2cap_mgr_t *&#160;</td>
          <td class="paramname"><em>l2cap_mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__spp.html#ga81f5ae48e380044a5dce006c6c322226">bt_spp_state_callback_fp</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a serial port. </p>
<p>The returned serial port is initially in the <a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7ea15d79f1a4ea29fb2f455f8a209da8b35" title="Port is not connected. ">SPP_PORT_STATE_DISCONNECTED</a> state. To establish a connection with a remote device, call <a class="el" href="group__spp.html#ga81b17d95276f5e4e012bbfc485bef5ec" title="Connect to a remote device. ">bt_spp_connect()</a>. To listen for incoming connections from other devices, call <a class="el" href="group__spp.html#gaa1988bc4e28102b04f11e31ece861a2e" title="Listen for incoming connections. ">bt_spp_listen()</a>. The <code>callback</code> parameter must specify a callback function that will be used to notify about serial port events and state changes. When the port is not needed any more it must be deallocated by <a class="el" href="group__spp.html#gad197811ff562e12fa6f85fc07d404e61" title="Deallocate serial port. ">bt_spp_deallocate()</a>. The maximum number of serial ports that can be allocated simultaneously is specified by the <a class="el" href="group__spp__config.html#gac1317552b9f08a9b29fe7d728ebc3d9c" title="Maximum number of SPP ports. ">SPP_MAX_PORTS</a> configuration parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l2cap_mgr</td><td>L2CAP manager.</td></tr>
    <tr><td class="paramname">callback</td><td>Pointer to a callback function used to notify about serial port events. Cannot be NULL.</td></tr>
    <tr><td class="paramname">callback_param</td><td>An arbitrary pointer that is passed as a parameter to the callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the ::bt_spp_port_t structure. Returns NULL if the maximum number of ports has been already allocated or the <code>callback</code> parameter is NULL. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7fa23d8c86315af184bb79ec1f8b3f19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_spp_cancel_receive </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel receive data. </p>
<p>If a receive operation is currently in progress this function will cancel it. After calling this function the receive callback specified in <a class="el" href="group__spp.html#gabb2b7259f03da226f3e2a67154fb91b6" title="Receive data. ">bt_spp_receive()</a> will not be called.</p>
<p>If there is no receive operation in progress calling this function has no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga92b9497fad3080c7cd9bcd152bb8892f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_spp_cancel_send </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel send data. </p>
<p>If a send operation is currently in progress this function will try to cancel it. When the operation is canceled the send callback function will be called with the <a class="el" href="group__spp.html#gga771b8c470ffd83ded952c126490a95e6a1e37bc1d4de0ee5e83b0ae114e5a64e9" title="The operation was canceled. ">SPP_SEND_STATUS_CANCELED</a> status.</p>
<p>If this function is called but the active send operation completes successfuly before the stack can actually cancel it the call back function will still be called with the <a class="el" href="group__spp.html#gga771b8c470ffd83ded952c126490a95e6a1e37bc1d4de0ee5e83b0ae114e5a64e9" title="The operation was canceled. ">SPP_SEND_STATUS_CANCELED</a> status.</p>
<p>If there is no send operation in progess calling this function has no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga81b17d95276f5e4e012bbfc485bef5ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_bool bt_spp_connect </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_bdaddr_p&#160;</td>
          <td class="paramname"><em>remote_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_byte&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to a remote device. </p>
<p>This function initiates a connection to a remote device. When the connection is successfully established the port's callback is called with the <a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea63251ed8cbe53b85207025764e70f4d3" title="Connection with a remote device was successfully established. ">SPP_PORT_EVENT_CONNECTED</a> event. If connection fails the callback is called with the <a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea5fd9582924b7c805bf336e48c7aa63b9" title="Connection to a remote device failed. ">SPP_PORT_EVENT_CONNECTION_FAILED</a> event.</p>
<p>The port must be in <a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7ea15d79f1a4ea29fb2f455f8a209da8b35" title="Port is not connected. ">SPP_PORT_STATE_DISCONNECTED</a> state. Otherwise, the function will fail.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port. </td></tr>
    <tr><td class="paramname">remote_addr</td><td>Bluetooth address of the remote device. </td></tr>
    <tr><td class="paramname">channel</td><td>RFCOMM server channel on which the connection is to be established.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> if successful, <code>FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="gad197811ff562e12fa6f85fc07d404e61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_bool bt_spp_deallocate </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocate serial port. </p>
<p>This function deallocates the specified port structure and other resources associated with it.</p>
<p>The port must be in <a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7ea15d79f1a4ea29fb2f455f8a209da8b35" title="Port is not connected. ">SPP_PORT_STATE_DISCONNECTED</a> state. Otherwise, the function will fail.</p>
<p>If the function completes successfully the application must not try to access any fields in the structure and must not use it with any other SPP functions. Also, it becomes available for subsequent allocation by bt_spp_port_allocate().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port structure to deallocate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> if successful, <code>FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga117d0bcfc5fb489438e2bfe3615997b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_spp_disconnect </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect from the remote device. </p>
<p>This function initiates the disconnection process. When it is complete the the port's callback is called with the SPP_PORT_EVENT_DISCONNECTED event.</p>
<p>If the port is already in the disconnected state the function does nothing and the callback is not called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6ef6409f34697f0151f07396e50a76aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_int bt_spp_get_frame_length </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get frame length. </p>
<p>This function returns the RFCOMM frame length used by the RFCOMM protocol. The frame length depends on configuration of DotStack and configuration of the Bluetooth stack running on the remote device. In order to achieve maximum throughput over the serial port connection the application should send and receive data in chunks that are multiple of this frame length.</p>
<dl class="section return"><dt>Returns</dt><dd>RFCOMM frame length in bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="ga008575a0d4e013e5da9c451b24b105d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_byte bt_spp_get_local_modem_status </td>
          <td>(</td>
          <td class="paramtype">const bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get local device's TS 07.10 control signals. </p>
<p>This function returns current state of the local device's TS 07.10 controls signals. The signals are defined as a mask of the following constants: SPP_RS232_DSR SPP_RS232_RTS SPP_RS232_RI SPP_RS232_DCD</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>local device's TS 07.10 control signals. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf2cf2190081a7604a95a02d2d4fb4d48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_bdaddr_t* bt_spp_get_remote_address </td>
          <td>(</td>
          <td class="paramtype">const bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the address of the remote device this device is connected to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>A</code> pointer to bt_bdaddr structure that contains the address of the remote device. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gab11430398f382aaff8396847da48ccd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_byte bt_spp_get_remote_modem_status </td>
          <td>(</td>
          <td class="paramtype">const bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get remote device's TS 07.10 control signals. </p>
<p>This function returns current state of the remote device's V.24 controls signals. The signals are defined as a mask of the following constants: SPP_RS232_DTR SPP_RS232_CTS SPP_RS232_RI SPP_RS232_DCD</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>remote device's TS 07.10 control signals. </dd></dl>

</div>
</div>
<a class="anchor" id="ga84bf14c9b4da9ce2aa0b36d13b78fc10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_spp_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the SPP module. </p>
<p>This function initializes all internal variables of the SPP module. It must be called prior to using any other functions in this module. </p>

</div>
</div>
<a class="anchor" id="gaa1988bc4e28102b04f11e31ece861a2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_bool bt_spp_listen </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_byte&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Listen for incoming connections. </p>
<p>This function registers the port to accept incoming connections from remote devices on a particular RFCOMM server channel. The specified server channel should be listed in the SDP database. Otherwise, remote devices will not be able to find out which server channel to use.</p>
<p>When a remote device successfully establishes a connection on the specified port the port's callback is called with the <a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea63251ed8cbe53b85207025764e70f4d3" title="Connection with a remote device was successfully established. ">SPP_PORT_EVENT_CONNECTED</a> event.</p>
<p>The port must be in <a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7ea15d79f1a4ea29fb2f455f8a209da8b35" title="Port is not connected. ">SPP_PORT_STATE_DISCONNECTED</a> state. Otherwise, the function will fail.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port. </td></tr>
    <tr><td class="paramname">channel</td><td>The RFCOMM server channel on which to listen for connections.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> if successful, <code>FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="gabb2b7259f03da226f3e2a67154fb91b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_bool bt_spp_receive </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_int&#160;</td>
          <td class="paramname"><em>buffer_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__spp.html#ga42ecde0a307a64fa1aa4d9ad7eb9fe0a">bt_spp_receive_callback_fp</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data. </p>
<p>This function receives data from the serial port connection. The caller must provide a buffer and a callback function. Whenever the port receives data they are copied to the provided buffer and the callback function is called. The callback function is passed the length of received data and the same callback parameter that was specified when the port was allocated with <a class="el" href="group__spp.html#ga52c6d1372724d3b0b8be17e2e22330c9" title="Allocate a serial port. ">bt_spp_allocate()</a>. This function does not wait until the buffer is filled out completely. Any amount of received data will complete the operation.</p>
<p>The port must be in <a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7ead1224bb8952b07eea1b83d5519275e57" title="Port is connected to a remote device. ">SPP_PORT_STATE_CONNECTED</a> state. Otherwise, the function will fail. Also, the function will fail if a previously started receive operation is still in progress.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the data to be sent. </td></tr>
    <tr><td class="paramname">data_len</td><td>Length of the data. </td></tr>
    <tr><td class="paramname">callback</td><td>Send callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> if successful, <code>FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga465bb849fa9ee497c5bd67e8d6e125f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_bool bt_spp_send </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_ulong&#160;</td>
          <td class="paramname"><em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__spp.html#gae4aacf49fa63e5e15cd74a808e52caac">bt_spp_send_callback_fp</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data. </p>
<p>This function starts sending data over the serial port connection. Along with the data the caller must provide a callback function that is called when all data has been sent. Also, during execution of this operation the port's state callback function is called periodically with the <a class="el" href="group__spp.html#gga2202538e161519d186667d78228e79fea0b99e6dc789f97a014bd53f9e7b7af3e" title="Send operation progress. ">SPP_PORT_EVENT_SEND_PROGRESS</a> event.</p>
<p>The port must be in <a class="el" href="group__spp.html#ggaea85deb6281a3d5cd18d9975f3831c7ead1224bb8952b07eea1b83d5519275e57" title="Port is connected to a remote device. ">SPP_PORT_STATE_CONNECTED</a> state. Otherwise, the function will fail. Also, the function will fail if a previously started send operation is still in progress.</p>
<p>The callback function is passed the same callback parameter that was specified when the port was allocated with <a class="el" href="group__spp.html#ga52c6d1372724d3b0b8be17e2e22330c9" title="Allocate a serial port. ">bt_spp_allocate()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the data to be sent. </td></tr>
    <tr><td class="paramname">data_len</td><td>Length of the data. </td></tr>
    <tr><td class="paramname">callback</td><td>Send callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> if successful, <code>FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga49af2488839828f58e37c6ca3ed55df3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_byte bt_spp_set_dtr </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_bool&#160;</td>
          <td class="paramname"><em>on</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set local device's RS-232 DTR signal. </p>
<p>Changes the state of local device's RS-232 DTR signal and notifies the remote device of the change. This signal corresponds to the TS 07.10's RFCOMM_MODEM_STATUS_RTC signal.</p>
<p>If there are resources to send a command to the remote device this command will return TRUE.</p>
<p>If the remote party has been successfully notified SPP_PORT_EVENT_LOCAL_MODEM_STATUS_CHANGED event will be reported. If the command could not be send to the remote party for any reason other than lack of resources SPP_PORT_EVENT_LOCAL_MODEM_STATUS_CHANGE_FAILED will be reported.</p>
<p>If the status cannot be changed because there is no resources to send a command to the remote device this function will return FALSE and no events will be reported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port. </td></tr>
    <tr><td class="paramname">on</td><td>Value indicating weather to set or clear the signal.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> if successful, <code>FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5a7153695e0d0b4a3f4c4eba2aa4fb7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_byte bt_spp_set_local_modem_status </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_byte&#160;</td>
          <td class="paramname"><em>ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set local device's TS 07.10 control signals. </p>
<p>Changes the state of local device's TS 07.10 control signals and notifies the remote device of the change.</p>
<p>If there are resources to send a command to the remote device this command will return TRUE.</p>
<p>If the remote party has been successfully notified SPP_PORT_EVENT_LOCAL_MODEM_STATUS_CHANGED event will be reported. If the command could not be send to the remote party for any reason other than lack of resources SPP_PORT_EVENT_LOCAL_MODEM_STATUS_CHANGE_FAILED will be reported.</p>
<p>If the status cannot be changed because there is no resources to send a command to the remote device this function will return FALSE and no events will be reported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port. </td></tr>
    <tr><td class="paramname">ms</td><td>Signals mask.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> if successful, <code>FALSE</code> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga32fe01da2a78b83bee06c34d4508355b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_byte bt_spp_set_rts </td>
          <td>(</td>
          <td class="paramtype">bt_spp_port_t *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_bool&#160;</td>
          <td class="paramname"><em>on</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set local device's RS-232 RTS signal. </p>
<p>Changes the state of local device's RS-232 DTR signal and notifies the remote device of the change. This signal corresponds to the TS 07.10's RFCOMM_MODEM_STATUS_RTR signal.</p>
<p>If there are resources to send a command to the remote device this command will return TRUE.</p>
<p>If the remote party has been successfully notified SPP_PORT_EVENT_LOCAL_MODEM_STATUS_CHANGED event will be reported. If the command could not be send to the remote party for any reason other than lack of resources SPP_PORT_EVENT_LOCAL_MODEM_STATUS_CHANGE_FAILED will be reported.</p>
<p>If the status cannot be changed because there is no resources to send a command to the remote device this function will return FALSE and no events will be reported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Serial port. </td></tr>
    <tr><td class="paramname">on</td><td>Value indicating weather to set or clear the signal.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> if successful, <code>FALSE</code> otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>Copyright &copy; 2015 SEARAN LLC. All right reserved.</small></address>
</body>
</html>
