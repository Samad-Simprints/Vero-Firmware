<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>dotstack API Reference: Configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">dotstack API Reference
   &#160;<span id="projectnumber">1.8.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Configuration<div class="ingroups"><a class="el" href="group__avdtp.html">Audio/Video Distribution Protocol (AVDP)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This module describes parameters used to configure AVDTP layer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf2b10fbae712fbd967e4a4fb4fe80aba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avdtp__config.html#gaf2b10fbae712fbd967e4a4fb4fe80aba">AVDTP_MAX_SEP</a></td></tr>
<tr class="memdesc:gaf2b10fbae712fbd967e4a4fb4fe80aba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of SEPs that can be exposed by a local device.  <a href="#gaf2b10fbae712fbd967e4a4fb4fe80aba">More...</a><br /></td></tr>
<tr class="separator:gaf2b10fbae712fbd967e4a4fb4fe80aba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga966ea1a5b28f8f671e4e8d29dd78dcc8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avdtp__config.html#ga966ea1a5b28f8f671e4e8d29dd78dcc8">AVDTP_MAX_STREAMS</a></td></tr>
<tr class="memdesc:ga966ea1a5b28f8f671e4e8d29dd78dcc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of streams that can be exposed by a local device.  <a href="#ga966ea1a5b28f8f671e4e8d29dd78dcc8">More...</a><br /></td></tr>
<tr class="separator:ga966ea1a5b28f8f671e4e8d29dd78dcc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16c7e4481136157f554c21c289a48269"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avdtp__config.html#ga16c7e4481136157f554c21c289a48269">AVDTP_MAX_REMOTE_DEVICES</a></td></tr>
<tr class="memdesc:ga16c7e4481136157f554c21c289a48269"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of remote devices a local device can be connected to.  <a href="#ga16c7e4481136157f554c21c289a48269">More...</a><br /></td></tr>
<tr class="separator:ga16c7e4481136157f554c21c289a48269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga075af54ae66aa82d261b13ba316d99fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avdtp__config.html#ga075af54ae66aa82d261b13ba316d99fb">AVDTP_MAX_CMD_BUFFERS</a></td></tr>
<tr class="memdesc:ga075af54ae66aa82d261b13ba316d99fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of command buffers.  <a href="#ga075af54ae66aa82d261b13ba316d99fb">More...</a><br /></td></tr>
<tr class="separator:ga075af54ae66aa82d261b13ba316d99fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8324b667b03c546e54dd40a5f5061c9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avdtp__config.html#ga8324b667b03c546e54dd40a5f5061c9d">AVDTP_MAX_TRANSPORT_CHANNELS</a></td></tr>
<tr class="memdesc:ga8324b667b03c546e54dd40a5f5061c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of transport channels.  <a href="#ga8324b667b03c546e54dd40a5f5061c9d">More...</a><br /></td></tr>
<tr class="separator:ga8324b667b03c546e54dd40a5f5061c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga632a3b9af41abcc7c8463b07c270db69"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avdtp__config.html#ga632a3b9af41abcc7c8463b07c270db69">AVDTP_MAX_TX_BUFFER_LEN</a></td></tr>
<tr class="memdesc:ga632a3b9af41abcc7c8463b07c270db69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the transmit buffer.  <a href="#ga632a3b9af41abcc7c8463b07c270db69">More...</a><br /></td></tr>
<tr class="separator:ga632a3b9af41abcc7c8463b07c270db69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga443f8d479c8ac5fae16ce0fc2671e2d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avdtp__config.html#ga443f8d479c8ac5fae16ce0fc2671e2d7">AVDTP_MAX_CMD_PARAM_LEN</a></td></tr>
<tr class="memdesc:ga443f8d479c8ac5fae16ce0fc2671e2d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum length of control command parameters.  <a href="#ga443f8d479c8ac5fae16ce0fc2671e2d7">More...</a><br /></td></tr>
<tr class="separator:ga443f8d479c8ac5fae16ce0fc2671e2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga234ff4563d976d0e6c3794f260ea938d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avdtp__config.html#ga234ff4563d976d0e6c3794f260ea938d">AVDTP_CODEC_CONFIG_BUFFER_LEN</a></td></tr>
<tr class="memdesc:ga234ff4563d976d0e6c3794f260ea938d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the buffer used to store codec specific configuration.  <a href="#ga234ff4563d976d0e6c3794f260ea938d">More...</a><br /></td></tr>
<tr class="separator:ga234ff4563d976d0e6c3794f260ea938d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module describes parameters used to configure AVDTP layer. </p>
<p>dotstack is customized using a configuration file. The configuration file tailors the dotstack to the application being built. It has to have the structure shown below.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;cdbt/bt/bt_std.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// HCI, L2CAP and SDP must always be present</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// HCI configuration parameters</span></div>
<div class="line"><span class="preprocessor">#define HCI_MAX_CMD_BUFFERS            ...</span></div>
<div class="line"><span class="preprocessor">#define HCI_MAX_DATA_BUFFERS           ...</span></div>
<div class="line"><span class="preprocessor">#define HCI_MAX_HCI_CONNECTIONS        ...</span></div>
<div class="line"><span class="preprocessor">#define HCI_RX_BUFFER_LEN              ...</span></div>
<div class="line"><span class="preprocessor">#define HCI_TX_BUFFER_LEN              ...</span></div>
<div class="line"><span class="preprocessor">#define HCI_L2CAP_BUFFER_LEN           ...</span></div>
<div class="line"><span class="preprocessor">#define HCI_MAX_CMD_PARAM_LEN          ...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// L2CAP configuration parameters</span></div>
<div class="line"><span class="preprocessor">#define L2CAP_MAX_CMD_BUFFERS          ...</span></div>
<div class="line"><span class="preprocessor">#define L2CAP_MAX_FRAME_BUFFERS        ...</span></div>
<div class="line"><span class="preprocessor">#define L2CAP_MAX_PSMS                 ...</span></div>
<div class="line"><span class="preprocessor">#define L2CAP_MAX_CHANNELS             ...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// SDP configuration parameters</span></div>
<div class="line"><span class="preprocessor">#define SDP_MAX_SEARCH_RESULT_LEN     ...</span></div>
<div class="line"><span class="preprocessor">#define SDP_MAX_ATTRIBUTE_RESULT_LEN   ...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Depending on protocols and profiles used below goes configuration parameters</span></div>
<div class="line"><span class="comment">// for each used module. E.g., to use and configure AVDTP &amp; A2DP (this one does not need configuration),</span></div>
<div class="line"><span class="comment">// the following values must be defined:</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define BT_INCLUDE_AVDTP               // tells dotstack to compile in AVDTP support</span></div>
<div class="line"><span class="preprocessor">#define AVDTP_MAX_SEP                  ...</span></div>
<div class="line"><span class="preprocessor">#define AVDTP_MAX_STREAMS              ...</span></div>
<div class="line"><span class="preprocessor">#define AVDTP_MAX_REMOTE_DEVICES       ...</span></div>
<div class="line"><span class="preprocessor">#define AVDTP_MAX_CMD_BUFFERS          ...</span></div>
<div class="line"><span class="preprocessor">#define AVDTP_MAX_TRANSPORT_CHANNELS   ...</span></div>
<div class="line"><span class="preprocessor">#define AVDTP_MAX_TX_BUFFER_LEN        ...</span></div>
<div class="line"><span class="preprocessor">#define AVDTP_MAX_CMD_PARAM_LEN        ...</span></div>
<div class="line"><span class="preprocessor">#define AVDTP_CODEC_CONFIG_BUFFER_LEN  ...</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;cdbt/bt/bt_oem_config.h&quot;</span></div>
</div><!-- fragment --> <h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga234ff4563d976d0e6c3794f260ea938d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVDTP_CODEC_CONFIG_BUFFER_LEN</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of the buffer used to store codec specific configuration. </p>
<p>Each codec uses unique configuration which can take different amount of memory. This parameter defines the size of the buffer for storing codec's configuration. The value of 16 is sufficient for SBC, AAC and MPEG1,2. If vendor specific codec is to be used this value may need to increased. </p>

</div>
</div>
<a class="anchor" id="ga075af54ae66aa82d261b13ba316d99fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVDTP_MAX_CMD_BUFFERS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of command buffers. </p>
<p>This parameter defines the number of buffers reserved for sending commands to a remote device over its control channel. Each channel uses its own buffers so the total number of buffers is AVDTP_MAX_REMOTE_DEVICES * AVDTP_MAX_CMD_BUFFERS. The minimum value is 1. The maximum value is 255. 2 is usually sufficient. </p>

</div>
</div>
<a class="anchor" id="ga443f8d479c8ac5fae16ce0fc2671e2d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVDTP_MAX_CMD_PARAM_LEN</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum length of control command parameters. </p>
<p>This parameter defines the maximum length of all command parameters. The value should not exceed AVDTP_MAX_TX_BUFFER_LEN - 2 (command header). </p>

</div>
</div>
<a class="anchor" id="ga16c7e4481136157f554c21c289a48269"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVDTP_MAX_REMOTE_DEVICES</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of remote devices a local device can be connected to. </p>
<p>This parameter defines the number of remote devices a local device can have simultaneous connections to (i.e. control channels). This value should not exceed AVDTP_MAX_STREAMS. For each remote device AVDTP creates one control channel regardless of the number of streams between the local and the remote devices. Assuming that the local devices wants to have only one channel with each remote device and if AVDTP_MAX_REMOTE_DEVICES &gt; AVDTP_MAX_STREAMS all memory reserved for devices in excess of AVDTP_MAX_STREAMS will be wasted. The minimum value is 1. The maximum value is 255. </p>

</div>
</div>
<a class="anchor" id="gaf2b10fbae712fbd967e4a4fb4fe80aba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVDTP_MAX_SEP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of SEPs that can be exposed by a local device. </p>
<p>This parameter defines the number of SEPs an application can expose to remote devices. The minimum value is 1. The maximum value is 255. </p>

</div>
</div>
<a class="anchor" id="ga966ea1a5b28f8f671e4e8d29dd78dcc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVDTP_MAX_STREAMS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of streams that can be exposed by a local device. </p>
<p>This parameter defines the number of streams an application can open between local and remote devices. This value can be different from AVDTP_MAX_SEP but should not exceed it. Since each SEP can only be used once the local device can only have as much streams as there are SEPs. If AVDTP_MAX_STREAMS &gt; AVDTP_MAX_SEP all memory reserved for streams in excess of AVDTP_MAX_SEP will be wasted. The minimum value is 1. The maximum value is 255. </p>

</div>
</div>
<a class="anchor" id="ga8324b667b03c546e54dd40a5f5061c9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVDTP_MAX_TRANSPORT_CHANNELS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of transport channels. </p>
<p>Depending on the SEP capabilities (multiplexing, recovery, reporting) each stream may need up to 3 transport channels. E.g., if multiplexing is not supported and recovery and reporting are supported a stream will use 3 transport channels - 1 for media transport session, 1 for recovery transport session and 1 for reporting transport session. If multiplexing is not supported and only reporting is supported the stream will use 2 transport channels - 1 for media transport session and 1 for reporting transport session. If multiplexing is supported the stream will need only 1 transport channel for all supported transport session. With multiplexing even different streams can share the same transport channel. dotstack currently does not support multiplexing, recovery and reporting. So each stream needs its own transport channel for it media transport session. Hence, AVDTP_MAX_TRANSPORT_CHANNELS must be equal to AVDTP_MAX_STREAMS </p>

</div>
</div>
<a class="anchor" id="ga632a3b9af41abcc7c8463b07c270db69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVDTP_MAX_TX_BUFFER_LEN</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of the transmit buffer. </p>
<p>This parameter defines the size of the buffer used to send AVDTP control commands to L2CAP layer. Each control channel has it own buffer so the total amount of memory allocated for these buffers is AVDTP_MAX_TX_BUFFER_LEN) * AVDTP_MAX_REMOTE_DEVICES. The minimum value is 1. The maximum value is 255. The value of 32 is usually sufficient. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>Copyright &copy; 2015 SEARAN LLC. All right reserved.</small></address>
</body>
</html>
