<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>dotstack API Reference: OEM - Non-volatile Storage Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">dotstack API Reference
   &#160;<span id="projectnumber">1.8.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">OEM - Non-volatile Storage Interface</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga29d5d33534c6543eeecf07688a90315e"><td class="memItemLeft" align="right" valign="top">bt_uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stg.html#ga29d5d33534c6543eeecf07688a90315e">bt_oem_storage_get_capacity</a> (void)</td></tr>
<tr class="memdesc:ga29d5d33534c6543eeecf07688a90315e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get non-volatile storage capacity.  <a href="#ga29d5d33534c6543eeecf07688a90315e">More...</a><br /></td></tr>
<tr class="separator:ga29d5d33534c6543eeecf07688a90315e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec1f853bbf988b405f41ee9c039f0e8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stg.html#gaec1f853bbf988b405f41ee9c039f0e8d">bt_oem_storage_start</a> (void)</td></tr>
<tr class="memdesc:gaec1f853bbf988b405f41ee9c039f0e8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin a sequence of non-volatile storage operations.  <a href="#gaec1f853bbf988b405f41ee9c039f0e8d">More...</a><br /></td></tr>
<tr class="separator:gaec1f853bbf988b405f41ee9c039f0e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9823deb55d41ed4270a1159a25826687"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stg.html#ga9823deb55d41ed4270a1159a25826687">bt_oem_storage_stop</a> (void)</td></tr>
<tr class="memdesc:ga9823deb55d41ed4270a1159a25826687"><td class="mdescLeft">&#160;</td><td class="mdescRight">End a sequence of non-volatile storage operations.  <a href="#ga9823deb55d41ed4270a1159a25826687">More...</a><br /></td></tr>
<tr class="separator:ga9823deb55d41ed4270a1159a25826687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga422b2d658a44acd0074b55d776ebebe0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stg.html#ga422b2d658a44acd0074b55d776ebebe0">bt_oem_storage_write</a> (bt_int addr, const bt_byte *data, bt_int len, bt_storage_callback_fp callback)</td></tr>
<tr class="memdesc:ga422b2d658a44acd0074b55d776ebebe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to non-volatile storage.  <a href="#ga422b2d658a44acd0074b55d776ebebe0">More...</a><br /></td></tr>
<tr class="separator:ga422b2d658a44acd0074b55d776ebebe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga348b626ded6b80b014bda1359ed15c59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stg.html#ga348b626ded6b80b014bda1359ed15c59">bt_oem_storage_read</a> (bt_int addr, bt_byte *buffer, bt_int len, bt_storage_callback_fp callback)</td></tr>
<tr class="memdesc:ga348b626ded6b80b014bda1359ed15c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from the non-volatile storage.  <a href="#ga348b626ded6b80b014bda1359ed15c59">More...</a><br /></td></tr>
<tr class="separator:ga348b626ded6b80b014bda1359ed15c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>DotStack requires a non-volatile storage for storing link keys. This module declares an interface for accessing such storage. The application must provide implementations of all functions of this interface. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga29d5d33534c6543eeecf07688a90315e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_uint bt_oem_storage_get_capacity </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get non-volatile storage capacity. </p>
<p>Implementation of this function must return the capacity of its non-volatile storage. </p>

</div>
</div>
<a class="anchor" id="ga348b626ded6b80b014bda1359ed15c59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_oem_storage_read </td>
          <td>(</td>
          <td class="paramtype">bt_int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_byte *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_storage_callback_fp&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read from the non-volatile storage. </p>
<p>This function is called by the stack to read from the non-volatile storage. This function must be implemented by the application. When this function is called the application must start a read operation. When the number of bytes specified by the <code>len</code> parameter is read, the application must call the callback function specified by the <code>callback</code> parameter. The application does not have to read the whole number of bytes during the call to this function. It may complete reading later and then call the completion callback. The stack guarantees that the destination data buffer will be available until the application calls the completion callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>The non-volatile storage address where to read data from. </td></tr>
    <tr><td class="paramname">buffer</td><td>The receiving buffer. </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes to read. </td></tr>
    <tr><td class="paramname">callback</td><td>The completion callback function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaec1f853bbf988b405f41ee9c039f0e8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_oem_storage_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin a sequence of non-volatile storage operations. </p>
<p>DotStack calls this function when it starts a sequence of non-volatile storage operations. When the sequence is finished, DotStack will call <a class="el" href="group__stg.html#ga9823deb55d41ed4270a1159a25826687" title="End a sequence of non-volatile storage operations. ">bt_oem_storage_stop()</a>. </p>

</div>
</div>
<a class="anchor" id="ga9823deb55d41ed4270a1159a25826687"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_oem_storage_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End a sequence of non-volatile storage operations. </p>
<p>DotStack calls this function when it finishes executing a sequence of non-volatile storage operations. </p>

</div>
</div>
<a class="anchor" id="ga422b2d658a44acd0074b55d776ebebe0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_oem_storage_write </td>
          <td>(</td>
          <td class="paramtype">bt_int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bt_byte *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bt_storage_callback_fp&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write to non-volatile storage. </p>
<p>This function is called by the stack to write data to the non-volatile storage. This function must be implemented by the application. When this function is called, the application must start writing specified data to the non-volatile storage. When all data has been written, the application must call the callback function passed in the <code>callback</code> parameter. The application does not have to complete the write operation during the call to this function. It may complete the operation later and then call the callback function. In this case, the application does not have to store the data in an internal buffer. The stack guarantees that the passed data will be present until the completion callback is called by the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>The persitent storage address where to write data to. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to data. </td></tr>
    <tr><td class="paramname">len</td><td>Data length. </td></tr>
    <tr><td class="paramname">callback</td><td>The completion callback function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>Copyright &copy; 2015 SEARAN LLC. All right reserved.</small></address>
</body>
</html>
